# üöÄ –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/botfather)
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
4. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
5. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

### 2Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ

```bash
export TELEGRAM_BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather"
```

### 3Ô∏è‚É£ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ GitHub

```bash
git add .
git commit -m "Ready for deployment"
git push origin main
```

### 4Ô∏è‚É£ –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –≤—Å–µ —à–∞–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```bash
chmod +x remote-deploy.sh
./remote-deploy.sh
```

–ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `cashback`.

#### –í–∞—Ä–∏–∞–Ω—Ç B: –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:

```bash
ssh cashback@82.26.150.98
```

–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–ø–µ—Ä–≤—ã–π —Ä–∞–∑) –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥:

```bash
# –ü–µ—Ä–≤—ã–π —Ä–∞–∑
git clone https://github.com/Aqoouet/CashbackAdvisor.git
cd CashbackAdvisor

# –ò–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
cd CashbackAdvisor
git pull origin main
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω:

```bash
export TELEGRAM_BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather"
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π:

```bash
chmod +x deploy.sh
./deploy.sh
```

### 5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose -f docker-compose.full.yml ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –±–æ—Ç–∞
docker-compose -f docker-compose.full.yml logs -f bot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl http://localhost:8080/health
```

## üìå –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞?

### ‚ùå –ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö:
- ‚ùå –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ git
- ‚ùå –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ –∫–æ–¥–µ
- ‚ùå –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ –æ—Ç–∫—Ä—ã—Ç—ã–µ –∫–∞–Ω–∞–ª—ã

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:

**–õ–æ–∫–∞–ª—å–Ω–æ (–Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ):**
```bash
# –í —Ñ–∞–π–ª–µ ~/.bashrc –∏–ª–∏ ~/.zshrc
export TELEGRAM_BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω"
```

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
nano .env
```

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```env
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
DB_PASSWORD=–Ω–∞–¥—ë–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å_–¥–ª—è_–ë–î
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
# –í —Ñ–∞–π–ª–µ ~/.bashrc
export TELEGRAM_BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω"
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose -f docker-compose.full.yml logs -f

# –¢–æ–ª—å–∫–æ –±–æ—Ç
docker-compose -f docker-compose.full.yml logs -f bot

# –¢–æ–ª—å–∫–æ API
docker-compose -f docker-compose.full.yml logs -f api
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
docker-compose -f docker-compose.full.yml restart bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.full.yml restart
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.full.yml down
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
```bash
cd CashbackAdvisor
git pull origin main
docker-compose -f docker-compose.full.yml down
docker-compose -f docker-compose.full.yml build
docker-compose -f docker-compose.full.yml up -d
```

## üÜò –ü—Ä–æ–±–ª–µ–º—ã?

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
docker-compose -f docker-compose.full.yml logs bot
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω:
```bash
cat .env | grep TELEGRAM_BOT_TOKEN
```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
```bash
docker-compose -f docker-compose.full.yml restart bot
```

### API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
docker-compose -f docker-compose.full.yml logs api
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î:
```bash
docker-compose -f docker-compose.full.yml logs postgres
```

### –ù—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ–≥–æ (–û–°–¢–û–†–û–ñ–ù–û: —É–¥–∞–ª–∏—Ç –¥–∞–Ω–Ω—ã–µ!)
docker-compose -f docker-compose.full.yml down -v

# –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –¥–µ–ø–ª–æ–π
export TELEGRAM_BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω"
./deploy.sh
```

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º. [DEPLOY.md](DEPLOY.md)

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è

- [ ] –ü–æ–ª—É—á–µ–Ω —Ç–æ–∫–µ–Ω –æ—Ç @BotFather
- [ ] –ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ GitHub
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è TELEGRAM_BOT_TOKEN
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω/–æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª .env —Å —Ç–æ–∫–µ–Ω–æ–º
- [ ] –ó–∞–ø—É—â–µ–Ω —Å–∫—Ä–∏–ø—Ç deploy.sh
- [ ] –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram
- [ ] API –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ /health

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ, –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
# –° –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
git push origin main
./remote-deploy.sh

# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å SSH –∫–æ–≥–¥–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç
```

–ì–æ—Ç–æ–≤–æ! üéâ

