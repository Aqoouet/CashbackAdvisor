# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç Open Cashback Advisor

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∑–∞ 5 –º–∏–Ω—É—Ç.

## ‚ö° –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± (Docker)

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL
make docker-up

# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–ø–æ–¥–æ–∂–¥–∏—Ç–µ 3-5 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ docker-up)
sleep 5 && make migrate

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
make run
```

–ì–æ—Ç–æ–≤–æ! –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:8080`

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. Health Check

```bash
curl http://localhost:8080/health
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```json
{"status":"ok"}
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞

```bash
curl -X POST http://localhost:8080/api/v1/cashback \
  -H "Content-Type: application/json" \
  -d '{
    "group_name": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
    "category": "–¢–∞–∫—Å–∏",
    "bank_name": "–¢–∏–Ω—å–∫–æ—Ñ—Ñ",
    "user_id": "123456789",
    "user_display_name": "–ò–≤–∞–Ω",
    "month_year": "2024-12",
    "cashback_percent": 5.5,
    "max_amount": 3000.0
  }'
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ fuzzy-–ø–æ–∏—Å–∫–∞

```bash
curl -X POST http://localhost:8080/api/v1/cashback/suggest \
  -H "Content-Type: application/json" \
  -d '{
    "group_name": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—å—Ç",
    "category": "–¢–∞–∫—Å–∫–∏",
    "bank_name": "–¢–µ–Ω—å–∫–æ—Ñ",
    "user_display_name": "–ò–≤–∞–Ω",
    "month_year": "2024-12",
    "cashback_percent": 5.0,
    "max_amount": 3000.0
  }'
```

–°–µ—Ä–≤–∏—Å –Ω–∞–π–¥–µ—Ç –ø–æ—Ö–æ–∂–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è!

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ –ª—É—á—à–µ–≥–æ –∫—ç—à–±—ç–∫–∞

```bash
curl "http://localhost:8080/api/v1/cashback/best?group_name=–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç&category=–¢–∞–∫—Å–∏&month_year=2024-12"
```

### 5. –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∞–≤–∏–ª

```bash
curl "http://localhost:8080/api/v1/cashback?limit=10&offset=0"
```

## üìù –ü—Ä–∏–º–µ—Ä—ã API –∑–∞–ø—Ä–æ—Å–æ–≤

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `examples/requests.http` –≤ VS Code —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º REST Client –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä: Ctrl+C

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL
make docker-down
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
make test
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

```bash
make fmt
```

### –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞

```bash
make clean
make build
```

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

### PostgreSQL –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 5432 —Å–≤–æ–±–æ–¥–µ–Ω
lsof -i :5432

# –ï—Å–ª–∏ –∑–∞–Ω—è—Ç, –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä—É–≥–æ–π PostgreSQL
# –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ docker-compose.yml
```

### –û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
# –û—Ç–∫–∞—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
make rollback

# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
make migrate
```

### –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker ps

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker logs cashback_postgres

# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –≤—Ä—É—á–Ω—É—é
psql -h localhost -U postgres -d cashback_db
```

## üìö –î–∞–ª—å–Ω–µ–π—à–µ–µ –∏–∑—É—á–µ–Ω–∏–µ

- [README.md](README.md) - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ARCHITECTURE.md](ARCHITECTURE.md) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [examples/requests.http](examples/requests.http) - –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ò–∑—É—á–∏—Ç–µ API —á–µ—Ä–µ–∑ `examples/requests.http`
2. –ü–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å fuzzy-–ø–æ–∏—Å–∫–æ–º
3. –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞ –∫—ç—à–±—ç–∫–∞
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å Telegram –±–æ—Ç–æ–º

–£–¥–∞—á–∏! üöÄ

